{"version":3,"sources":["../../helpers/sendMessage.js"],"names":["sendMessage","recipient","message","requestOptions","url","qs","access_token","process","env","FB_ACCESS_TOKEN","method","json","messaging_type","id","text","requestCallback","error","response","body","console","log","sendMessageAsync","params","data","then","catch","s"],"mappings":";;;;;;;;AAAA;;AACA;;;;AAEO,SAASA,WAAT,CAAqBC,SAArB,EAAgCC,OAAhC,EAAyC;AAE9C,MAAIC,cAAc,GAAG;AACnBC,IAAAA,GAAG,EAAE,6CADc;AAEnBC,IAAAA,EAAE,EAAE;AAACC,MAAAA,YAAY,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAA3B,KAFe;AAGnBC,IAAAA,MAAM,EAAE,MAHW;AAInBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,cAAc,EAAE,UADZ;AAEJX,MAAAA,SAAS,EAAE;AAACY,QAAAA,EAAE,EAAEZ;AAAL,OAFP;AAGJC,MAAAA,OAAO,EAAE;AAACY,QAAAA,IAAI,EAAEZ;AAAP;AAHL;AAJa,GAArB;;AAWA,WAASa,eAAT,CAAyBC,KAAzB,EAAgCC,QAAhC,EAA0CC,IAA1C,EAAgD;AAC9C,QAAIF,KAAJ,EAAW;AACTG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACD,KAFD,MAGK,IAAIC,QAAQ,CAACC,IAAT,CAAcF,KAAlB,EAAyB;AAC5BG,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAAT,CAAcF,KAA1B;AACD;AACF;;AAAA;AAED,wBAAQb,cAAR,EAAwBY,eAAxB;AAED;;AAEM,SAASM,gBAAT,CAA0BpB,SAA1B,EAAqCC,OAArC,EAA8C;AAEnD,MAAIC,cAAc,GAAG;AACnBO,IAAAA,MAAM,EAAE,MADW;AAEnBN,IAAAA,GAAG,EAAE,6CAFc;AAGnBkB,IAAAA,MAAM,EAAE;AACNhB,MAAAA,YAAY,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADpB,KAHW;AAMnBc,IAAAA,IAAI,EAAE;AACJX,MAAAA,cAAc,EAAE,UADZ;AAEJX,MAAAA,SAAS,EAAE;AAACY,QAAAA,EAAE,EAAEZ;AAAL,OAFP;AAGJC,MAAAA,OAAO,EAAE;AAACY,QAAAA,IAAI,EAAEZ;AAAP;AAHL;AANa,GAArB;AAaA,sBAAMC,cAAN,EACGqB,IADH,CACQ,UAAAP,QAAQ,EAAI;AAChBE,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,GAHH,EAIGQ,KAJH,CAIS,UAAAT,KAAK,EAAI;AACdG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACD,GANH;AAMKU,EAAAA,CAAC;AACP","sourcesContent":["import request from \"request\";\nimport axios from \"axios\";\n\nexport function sendMessage(recipient, message) {\n  \n  let requestOptions = {\n    url: \"https://graph.facebook.com/v2.6/me/messages\",\n    qs: {access_token: process.env.FB_ACCESS_TOKEN},\n    method: \"POST\",\n    json: {\n      messaging_type: \"RESPONSE\",\n      recipient: {id: recipient},\n      message: {text: message}\n    }\n  };\n\n  function requestCallback(error, response, body) {\n    if (error) {\n      console.log(error);\n    }\n    else if (response.body.error) {\n      console.log(response.body.error);\n    }\n  };\n\n  request(requestOptions, requestCallback);\n\n}\n\nexport function sendMessageAsync(recipient, message) {\n  \n  let requestOptions = {\n    method: \"POST\",\n    url: \"https://graph.facebook.com/v2.6/me/messages\",\n    params: {\n      access_token: process.env.FB_ACCESS_TOKEN\n    },\n    data: {\n      messaging_type: \"RESPONSE\",\n      recipient: {id: recipient},\n      message: {text: message}\n    }\n  };\n\n  axios(requestOptions)\n    .then(response => {\n      console.log(response);\n    })\n    .catch(error => {\n      console.log(error)\n    });s\n}"],"file":"sendMessage.js"}